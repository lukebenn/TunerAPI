<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RDA5807M Tuner API: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">RDA5807M Tuner API
   &#160;<span id="projectnumber">v1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('index.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">RDA5807M Tuner API Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><dl class="section author"><dt>Author</dt><dd>Luke Bennett</dd></dl>
<p>Created for an undergraduate project for the course EECS 3215.</p>
<h1><a class="anchor" id="Introduction"></a>
Introduction</h1>
<p>This is a C++ API for operating the RDA5807M FM chip using I2C on an LPC802 MCU</p>
<h1><a class="anchor" id="Prerequisites"></a>
Prerequisites</h1>
<p>To use this API on other projects you need the following: <br  />
</p><ul>
<li>LPC80x MCU <br  />
</li>
<li>MCUXpresso Version 11.1.0 or Later <br  />
</li>
<li>LPC80x SDK <br  />
</li>
<li>Your LPC80x MCUXpresso C++ project <br  />
</li>
</ul>
<h1><a class="anchor" id="Install"></a>
Install</h1>
<p>Go to: <a href="https://github.com/lukebenn/TunerAPI">https://github.com/lukebenn/TunerAPI</a></p>
<p>Copy the following files into your source directory: <br  />
</p><ul>
<li>/source/i2c.h</li>
<li>/source/i2c.cpp</li>
<li>/source/tuner.h</li>
<li>/source/tuner.cpp</li>
</ul>
<p>Modify the include statements in all files to reflect the correct LPC80x model you are using. </p><div class="fragment"><div class="line"><span class="preprocessor">#define LPC802.h</span></div>
</div><!-- fragment --><p>Use the following include statements in your program: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="tuner_8h.html">tuner.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="i2c_8h.html">i2c.h</a>&quot;</span></div>
</div><!-- fragment --><h1><a class="anchor" id="Usage"></a>
Usage</h1>
<p>Add these define statements (they can be changed at any time):</p>
<div class="fragment"><div class="line"><span class="preprocessor">#define I2C_BAUD        (100000)</span></div>
<div class="line"><span class="preprocessor">#define MAIN_CLK        (12000000)</span></div>
<div class="line"><span class="preprocessor">#define TUNER_ADDRESS   (0x10)</span></div>
<div class="line"><span class="preprocessor">#define SDA_PIN         (10)</span></div>
<div class="line"><span class="preprocessor">#define SCL_PIN         (16)</span></div>
</div><!-- fragment --><p>Define a new tuner with the following: </p><div class="fragment"><div class="line"><a class="code" href="class_tuner.html">Tuner</a> tuner(TUNER_ADDRESS,SDA_PIN,SCL_PIN, MAIN_CLK);</div>
</div><!-- fragment --><p>The I2C address is: <em>0x10</em></p>
<p>Next is to initialize i2c followed by the tuner. The order is very important: </p><div class="fragment"><div class="line"><a class="code" href="i2c_8h.html#a394e6ed780b8effde32fd02c8a1d910f">I2Cinit</a>(I2C_BAUD,MAIN_CLK);</div>
<div class="line">tuner.<a class="code" href="class_tuner.html#afc4391a521b095c685b41f870058204f">init</a>();</div>
</div><!-- fragment --><p>Everything is now set and you are ready to run any of the commands found in the <a class="el" href="class_tuner.html">Tuner</a> class such as: </p><div class="fragment"><div class="line">tuner.<a class="code" href="class_tuner.html#a85477415047e4e4c55e9b6f95ca543d8">setStation</a>(991);</div>
</div><!-- fragment --><p>or </p><div class="fragment"><div class="line">tuner.<a class="code" href="class_tuner.html#aaa0b9e1e9fbf58a76997dd6c37f92e33">seekUp</a>();</div>
</div><!-- fragment --><p>Commands that write data to RDA5807M update device immediately. All commands that read data do not update device immediately.</p>
<h1><a class="anchor" id="Debugging"></a>
Debugging</h1>
<p>Currently adding the line: </p><div class="fragment"><div class="line"><span class="preprocessor">#define DEBUG 1</span></div>
</div><!-- fragment --><p>Will allow you to run the program without interfacing with the RDA5807M. The intention is to allow you to easily modify the buffers and see them change with no RDA5807M connected.</p>
<h1><a class="anchor" id="Need"></a>
Need a working example?</h1>
<p>The whole github repo is a working MCUXpresso project made for the LPC802! </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="aclass_tuner_html"><div class="ttname"><a href="class_tuner.html">Tuner</a></div><div class="ttdef"><b>Definition:</b> <a href="tuner_8h_source.html#l00050">tuner.h:50</a></div></div>
<div class="ttc" id="atuner_8h_html"><div class="ttname"><a href="tuner_8h.html">tuner.h</a></div><div class="ttdoc">Tuner API for RDA5807M FM Chip.</div></div>
<div class="ttc" id="ai2c_8h_html_a394e6ed780b8effde32fd02c8a1d910f"><div class="ttname"><a href="i2c_8h.html#a394e6ed780b8effde32fd02c8a1d910f">I2Cinit</a></div><div class="ttdeci">void I2Cinit(int baud, int mcuClock)</div><div class="ttdoc">Initalizes I2C module with default pins.</div><div class="ttdef"><b>Definition:</b> <a href="i2c_8cpp_source.html#l00006">i2c.cpp:6</a></div></div>
<div class="ttc" id="aclass_tuner_html_aaa0b9e1e9fbf58a76997dd6c37f92e33"><div class="ttname"><a href="class_tuner.html#aaa0b9e1e9fbf58a76997dd6c37f92e33">Tuner::seekUp</a></div><div class="ttdeci">void seekUp()</div><div class="ttdoc">Command chip to preform Auto Seek Upwards.</div><div class="ttdef"><b>Definition:</b> <a href="tuner_8cpp_source.html#l00120">tuner.cpp:120</a></div></div>
<div class="ttc" id="aclass_tuner_html_afc4391a521b095c685b41f870058204f"><div class="ttname"><a href="class_tuner.html#afc4391a521b095c685b41f870058204f">Tuner::init</a></div><div class="ttdeci">void init(void)</div><div class="ttdoc">Resets chip, enables chip, and updates both buffers.</div><div class="ttdef"><b>Definition:</b> <a href="tuner_8cpp_source.html#l00008">tuner.cpp:8</a></div></div>
<div class="ttc" id="aclass_tuner_html_a85477415047e4e4c55e9b6f95ca543d8"><div class="ttname"><a href="class_tuner.html#a85477415047e4e4c55e9b6f95ca543d8">Tuner::setStation</a></div><div class="ttdeci">void setStation(int station)</div><div class="ttdoc">Set the station to tune to.</div><div class="ttdef"><b>Definition:</b> <a href="tuner_8cpp_source.html#l00061">tuner.cpp:61</a></div></div>
<div class="ttc" id="ai2c_8h_html"><div class="ttname"><a href="i2c_8h.html">i2c.h</a></div><div class="ttdoc">Location of all common I2C commands.</div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
